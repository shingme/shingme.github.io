---
title: Hot Deploy 이란?
layout: post
---

"Hot Deploy"

프로젝트를 하다가 내 로컬에서는 JSP를 수정하고 톰캣 재기동 필요없이 해당 수정 코드가 바로 적용되는 것을 확인했다. 
하지만 이를 운영서버로 배포를 한 후, 해당 운영WAS서버를 재기동하지 않으면 JSP수정코드가 적용되지 않는 현상을 발견했다.
개인 프로젝트를 진행했을 시, 규모도 작았고, JSP페이지에는 서버에서 데이터를 받아와서 뿌려주는 작업만 
진행(자바코드는 서버에만 존재했음, JSP에는 js, html 코드만 존재)했기 때문에 이를 인지하지 못했던거 같다.


이런 현상의 원인은,
내 로컬 (톰캣서버 사용) 서버설정과 운영서버 설정을 다르게 했기 때문이었는데 Hot Deploy를 설정했냐의 차이였다.
**Hot Deploy 이란 서버가 주기적으로 모니터링을 통해 변경된 컴파일된 파일을 자동으로 반영해주는 기능이다.


(!잠깐!! JSP파일도 컴파일이 된다는 것을 잊고 있었다... 모르고 있었던거 같기도 하고..?)
 (1)JSP의 경우 최초 호출 될 때 jsp->서블릿 java 변환->.class 로 컴파일 된 후 메모리 로딩
 (2)jsp 파일을 수정일자가 변했다면 다시 서블릿 java 변환 -> class 컴파일 후 재로딩 
  - OKKY출처
  
  
**톰캣을 사용 시, Hot Deploy 설정
Server.xml
<Host appBase = "Wepapps" autoDeploy="true" name="localhost" unpackWARs="true">
  autoDeploy에 true 일 경우 서버 재기동 없이 JSP파일 수정사항 적용.
  

실 운영서버는 톰캣을 사용하고 있지 않기 때문에 톰캣과는 다른 설정방법을 통해 적용해야한다.
소스코드를 반영할 때, 재기동해야하는 불편함이 있었는데 Hot Deploy를 왜 사용하지 않는지 궁금했다. 이유는 프로젝트 규모가 클 경우 그에 필요한 리소스 자원도 잘 분배해서 사용되어야 하는데 Hot Deploy를 사용하면 이에 필요한 리소스를 또 줘야되기 때문에 비효율적인 부분이 있다고 한다. 그러쿤...!

그리고, HTML파일은 컴파일이 필요없는 동적페이지이기 때문에 웹서버만으로도 수정사항이 적용된다는 것..! (사용 중인 웹 솔루션이 해당 코드를 HTML코드로 변환하기 때문에 이를 운영서버에 반영해도 바로 적용됐음)